"use strict";(self.webpackChunkgoit_react_hw_05_movies=self.webpackChunkgoit_react_hw_05_movies||[]).push([[527],{527:function(n,e,r){r.r(e),r.d(e,{default:function(){return b}});var t,u=r(165),o=r(861),i=r(439),a=r(791),s=r(168),c=r(444).ZP.div(t||(t=(0,s.Z)(["\n  & form {\n    margin-top: 20px;\n\n    & input {\n      height: 21px;\n      width: 300px;\n\n      outline: none;\n      border-radius: 0;\n      border: 1px solid #d7d7d7;\n      border-right: none;\n\n      &:hover,\n      &:focus {\n        border-color: #bababa;\n      }\n    }\n\n    & button {\n      padding: 4px;\n\n      font-weight: 600;\n      outline: none;\n\n      border-radius: 0;\n      border: 1px solid #969696;\n\n      &:hover,\n      &:focus {\n        border-color: #4e4e4e;\n      }\n    }\n  }\n"]))),f=r(184),d=function(n){var e=n.value,r=n.onSubmit,t=n.onChange;return(0,f.jsx)(c,{children:(0,f.jsxs)("form",{onSubmit:r,children:[(0,f.jsx)("input",{type:"text",name:"search",value:e,onChange:t}),(0,f.jsx)("button",{type:"submit",children:"Search"})]})})},l=r(87),h=r(366),p=r(85),v=r(842),b=function(){var n,e=(0,a.useState)(!1),r=(0,i.Z)(e,2),t=r[0],s=r[1],c=(0,a.useState)([]),b=(0,i.Z)(c,2),g=b[0],m=b[1],x=(0,a.useState)(""),w=(0,i.Z)(x,2),Z=w[0],_=w[1],j=(0,a.useRef)(!0),S=(0,l.lr)(),k=(0,i.Z)(S,2),y=k[0],C=k[1],E=null!==(n=y.get("query"))&&void 0!==n?n:"";(0,a.useEffect)((function(){if(j.current)return j.current=!1,void _(E)}),[E]),(0,a.useEffect)((function(){""===E&&C({})}),[E,C]),(0,a.useEffect)((function(){if(""!==Z){var n=function(){var n=(0,o.Z)((0,u.Z)().mark((function n(){var e,r;return(0,u.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,s(!0),n.next=4,(0,h.z1)(Z);case 4:e=n.sent,r=e.data.results,m(r.map((function(n){return{id:n.id,title:n.title}}))),0===r.length&&p.Am.warning("No results were found for your search."),n.next=13;break;case 10:n.prev=10,n.t0=n.catch(0),p.Am.error(n.t0.message);case 13:return n.prev=13,s(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,10,13,16]])})));return function(){return n.apply(this,arguments)}}();n()}else m([])}),[Z]);return(0,f.jsxs)(f.Fragment,{children:[(0,f.jsx)(d,{value:E,onChange:function(n){C({query:n.target.value})},onSubmit:function(n){n.preventDefault(),_(E)}}),(g||t)&&(0,f.jsx)(v.Z,{movies:g,isLoading:t})]})}}}]);
//# sourceMappingURL=527.bf482b45.chunk.js.map