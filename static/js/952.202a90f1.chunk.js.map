{"version":3,"file":"static/js/952.202a90f1.chunk.js","mappings":"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","sources":["components/MovieDetails/MovieDetailsStyled.jsx","components/BackButton/BackButtonStyled.jsx","components/BackButton/BackButton.jsx","components/MovieDetails/MovieDetails.jsx","pages/MovieDetailsPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst MovieDetailsStyled = styled.div`\n  margin-top: 20px;\n\n  & .content-wrapper {\n    display: flex;\n\n    margin-top: 20px;\n  }\n\n  & .poster-wrapper {\n    width: 185px;\n    height: 278px;\n\n    margin-top: 1px;\n\n    flex-shrink: 0;\n\n    background-color: #ebebeb;\n\n    margin-right: 20px;\n  }\n\n  & .details-wrapper {\n    flex: 1;\n\n    & .react-loading-skeleton:not(:last-child) {\n      margin-bottom: 10px;\n    }\n  }\n\n  & img {\n    width: 100%;\n    height: 100%;\n\n    object-fit: cover;\n  }\n`;\n\nexport default MovieDetailsStyled;\n","import styled from 'styled-components';\n\nconst BackButtonStyled = styled.button`\n  padding: 3px;\n\n  display: inline-flex;\n  align-items: center;\n\n  font-size: 12px;\n\n  cursor: pointer;\n`;\n\nexport default BackButtonStyled;\n","import React from 'react';\nimport BackButtonStyled from './BackButtonStyled';\nimport { useLocation, useNavigate } from 'react-router-dom';\n\nconst BackButton = () => {\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  return (\n    <BackButtonStyled\n      type=\"button\"\n      onClick={() => navigate(location.state ?? '/')}\n    >\n      &larr; Go back\n    </BackButtonStyled>\n  );\n};\n\nexport default BackButton;\n","import PropTypes from 'prop-types';\nimport MovieDetailsStyled from './MovieDetailsStyled';\nimport Skeleton from 'react-loading-skeleton';\nimport 'react-loading-skeleton/dist/skeleton.css';\nimport BackButton from 'components/BackButton/BackButton';\n\nconst MOVIE_POSTER_BASE_URL = 'https://image.tmdb.org/t/p/w185';\n\nconst MovieDetails = ({ movie, isLoading }) => {\n  if (isLoading || !movie) {\n    return (\n      <MovieDetailsStyled>\n        <BackButton />\n        <div className=\"content-wrapper\">\n          <div className=\"poster-wrapper\">\n            <Skeleton height={278} width={185} />\n          </div>\n          <div className=\"details-wrapper\">\n            <br />\n            <Skeleton height={30} width={200} />\n            <Skeleton height={20} count={7} />\n          </div>\n        </div>\n      </MovieDetailsStyled>\n    );\n  } else {\n    const { title, overview, genres, vote_average, poster_path } = movie;\n\n    return (\n      <MovieDetailsStyled>\n        <BackButton />\n        <div className=\"content-wrapper\">\n          <div className=\"poster-wrapper\">\n            <img src={`${MOVIE_POSTER_BASE_URL}/${poster_path}`} alt={title} />\n          </div>\n          <div className=\"details-wrapper\">\n            <h2>{title}</h2>\n            <p>User Score: {(vote_average * 10).toFixed(0)}%</p>\n            <h3>Overview</h3>\n            <p>{overview}</p>\n            {genres.length > 0 && <h3>Genres</h3>}\n            <p>{genres.map(({ name }) => name).join(' ')}</p>\n          </div>\n        </div>\n      </MovieDetailsStyled>\n    );\n  }\n};\n\nMovieDetails.propTypes = {\n  movie: PropTypes.shape({\n    title: PropTypes.string.isRequired,\n    overview: PropTypes.string.isRequired,\n    genres: PropTypes.arrayOf(\n      PropTypes.shape({\n        id: PropTypes.number.isRequired,\n        name: PropTypes.string.isRequired,\n      })\n    ),\n    vote_average: PropTypes.number.isRequired,\n    poster_path: PropTypes.string.isRequired,\n  }),\n  isLoading: PropTypes.bool.isRequired,\n};\n\nexport default MovieDetails;\n","import { useEffect, useState } from 'react';\nimport { useNavigate, useParams } from 'react-router-dom';\nimport { getMovieDetails } from 'api/api';\nimport MovieDetails from 'components/MovieDetails/MovieDetails';\nimport { toast } from 'react-toastify';\n\nconst MovieDetailsPage = () => {\n  const [isLoading, setIsLoading] = useState(false);\n  const [movie, setMovie] = useState();\n  const { movieId } = useParams();\n\n  const navigate = useNavigate();\n\n  useEffect(() => {\n    if (movie) {\n      return;\n    }\n\n    const fetchMovie = async () => {\n      try {\n        setIsLoading(true);\n\n        const {\n          data: { title, overview, genres, vote_average, poster_path },\n        } = await getMovieDetails(movieId);\n\n        setMovie({\n          title,\n          overview,\n          genres,\n          vote_average,\n          poster_path,\n        });\n      } catch (error) {\n        if (error?.response?.status === 404) {\n          toast.error('Movie not found.');\n          navigate('/', { replace: true });\n        } else {\n          toast.error(error.message);\n        }\n      } finally {\n        setIsLoading(false);\n      }\n    };\n\n    fetchMovie();\n  }, [movie, movieId, navigate]);\n\n  return <>{<MovieDetails movie={movie} isLoading={isLoading} />}</>;\n};\n\nexport default MovieDetailsPage;\n"],"names":["styled","_templateObject","_taggedTemplateLiteral","location","useLocation","navigate","useNavigate","_jsx","BackButtonStyled","type","onClick","_location$state","state","children","_ref","movie","isLoading","_jsxs","MovieDetailsStyled","BackButton","className","Skeleton","height","width","count","title","overview","genres","vote_average","poster_path","src","concat","alt","toFixed","length","map","_ref2","name","join","_useState","useState","_useState2","_slicedToArray","setIsLoading","_useState3","_useState4","setMovie","movieId","useParams","useEffect","fetchMovie","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_yield$getMovieDetail","_yield$getMovieDetail2","_error$response","wrap","_context","prev","next","getMovieDetails","sent","data","t0","response","status","toast","replace","message","finish","stop","apply","arguments","_Fragment","MovieDetails"],"sourceRoot":""}